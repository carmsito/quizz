<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quiz Interactif</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        display: flex;
        flex-direction: column;
        min-height: 100vh;
        background-color: #1e1e1e;
        color: #fff;
      }
      #header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px;
        font-size: 14px;
        background-color: #333;
      }
      #restart-button {
        background-color: #d9534f;
        color: #fff;
        border: none;
        padding: 5px 10px;
        font-size: 14px;
        cursor: pointer;
        border-radius: 5px;
        transition: background-color 0.3s;
      }
      #restart-button:hover {
        background-color: #c9302c;
      }
      #category-container {
        flex: 1;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
        padding: 20px;
      }
      .category-list {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 10px;
        width: 80%;
        margin-top: 20px;
        justify-content: center;
      }
      .category {
        background-color: #333;
        color: #fff;
        border: none;
        padding: 10px;
        font-size: 16px;
        cursor: pointer;
        border-radius: 5px;
        transition: background-color 0.3s;
        text-align: center;
      }
      .category:hover {
        background-color: #555;
      }
      #popup-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.8);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1000;
      }
      #popup {
        background-color: #1e1e1e;
        padding: 20px;
        border-radius: 5px;
        width: 500px;
        text-align: center;
      }
      #popup h2 {
        margin-bottom: 20px;
      }
      .switch-list {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 10px;
        margin-bottom: 20px;
      }
      .switch {
        background-color: #333;
        color: #fff;
        padding: 10px;
        text-align: center;
        border-radius: 5px;
        cursor: pointer;
      }
      .switch.active {
        background-color: #007bff;
      }
      input[type="number"] {
        width: calc(100% - 20px);
        padding: 10px;
        margin-bottom: 20px;
        border-radius: 5px;
        border: 1px solid #333;
        background-color: #1e1e1e;
        color: #fff;
        text-align: center;
      }
      #popup-buttons {
        display: flex;
        justify-content: space-between;
      }
      button {
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s;
      }
      .btn-save {
        background-color: #007bff;
        color: #fff;
      }
      .btn-cancel {
        background-color: #d9534f;
        color: #fff;
      }
      button:hover {
        opacity: 0.8;
      }
      #question-container {
        margin-top: 10%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        text-align: center;
      }
      #question {
        font-size: 32px;
        margin-bottom: 30px;
      }
      #propositions-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 20px;
      }
      #propositions {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 20px;
        width: 100%;
        max-width: 700px;
        justify-content: center;
      }
      .proposition {
        background-color: #333;
        color: #fff;
        border: none;
        padding: 20px;
        font-size: 18px;
        cursor: pointer;
        border-radius: 5px;
        transition: background-color 0.3s;
        text-align: center;
      }
      .proposition:hover {
        background-color: #555;
      }
      #result {
        margin-top: 20px;
        font-size: 18px;
        font-weight: bold;
      }
      #gif-container {
        margin-top: 20px;
        display: flex;
        justify-content: center;
      }
      #gif {
        max-width: 100%;
        max-height: 300px;
        border-radius: 5px;
      }
      #next-button {
        margin-top: 20px;
        padding: 10px 20px;
        font-size: 16px;
        background-color: #007bff;
        color: #fff;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s;
        align-self: center;
        position: relative;
        left: 50%;
        transform: translateX(-50%);
      }
      #next-button:hover {
        background-color: #0056b3;
      }
      #quiz-end {
        display: none;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        text-align: center;
        background-color: #1e1e1e;
        color: #fff;
      }
      #quiz-end h2 {
        font-size: 36px;
        margin-bottom: 20px;
      }
      #quiz-end p {
        font-size: 18px;
        margin-bottom: 20px;
      }
      #quiz-end button {
        background-color: #007bff;
        color: #fff;
        border: none;
        padding: 10px 20px;
        font-size: 16px;
        cursor: pointer;
        border-radius: 5px;
        transition: background-color 0.3s;
      }
      #quiz-end button:hover {
        background-color: #0056b3;
      }
    </style>
  </head>
  <body>
    <div id="header">
      <button id="restart-button" style="display: none">Restart</button>
      <div></div>
      <div id="message-container" style="font-size: 20px">
        Bienvenue dans le quizz interactif
      </div>
      <div></div>
      <div id="score" style="display: none"></div>
    </div>
    <div id="category-container">
      <h1>Choisissez une catégorie</h1>
      <div class="category-list" id="base-categories"></div>
      <button id="customize-button" class="category" style="margin-top: 2%">
        Personnaliser le quiz
      </button>
    </div>
    <div id="popup-overlay" style="display: none">
      <div id="popup">
        <h2>Choisissez vos catégories</h2>
        <div class="switch-list" id="switch-list"></div>
        <input
          type="number"
          id="total-questions"
          placeholder="Nombre total de questions"
        />
        <div id="popup-buttons">
          <button class="btn-save">Enregistrer</button>
          <button class="btn-cancel">Annuler</button>
        </div>
      </div>
    </div>

    <div id="question-container" style="display: none">
      <div id="question" class="question"></div>
      <div id="propositions-container">
        <div id="propositions"></div>
      </div>
      <div id="result"></div>
      <div id="gif-container" style="display: none">
        <iframe id="gif" frameborder="0"></iframe>
      </div>
      <button id="next-button" style="display: none">Question suivante</button>
    </div>

    <div id="quiz-end">
      <h2>Félicitations, vous avez terminé le quiz !</h2>
      <p>Score final : <span id="final-score"></span></p>
      <p>Bonne réponses : <span id="correct-answers"></span></p>
      <p>Mauvaises réponses : <span id="wrong-answers"></span></p>
      <button id="restart-quiz">Recommencer</button>
    </div>

    <script>
      const questions = {
        CircuitMedicament: [
          {
            question: "Quelles sont les phases du circuit du médicament ?",
            propositions: [
              "Prescription, dispensation, administration, suivi",
              "Analyse, fabrication, distribution, administration",
              "Stockage, distribution, utilisation, évaluation",
              "Validation, fabrication, administration, archivage",
            ],
            reponse: "Prescription, dispensation, administration, suivi",
          },
          {
            question:
              "Quel est le rôle principal du prescripteur dans le circuit du médicament ?",
            propositions: [
              "Administrer les médicaments",
              "Vérifier les stocks",
              "Évaluer la tolérance et l’efficacité du traitement",
              "Contrôler la traçabilité des produits",
            ],
            reponse: "Évaluer la tolérance et l’efficacité du traitement",
          },
          {
            question:
              "Quel professionnel est chargé de valider une prescription et de délivrer les médicaments ?",
            propositions: ["Pharmacien", "Médecin", "IDE", "Patient"],
            reponse: "Pharmacien",
          },
          {
            question: "Quels sont les objectifs des règles d’administration ?",
            propositions: [
              "Éviter les interactions médicamenteuses",
              "Garantir la qualité et la sécurité de l’administration",
              "Maximiser la vitesse d’action des médicaments",
              "Réduire le coût des traitements",
            ],
            reponse: "Garantir la qualité et la sécurité de l’administration",
          },
          {
            question:
              "Quelle vérification est essentielle avant l’administration d’un médicament ?",
            propositions: [
              "Compatibilité avec d’autres médicaments",
              "Identité du patient au regard de la prescription médicale",
              "Durée totale du traitement",
              "Disponibilité des équipements médicaux",
            ],
            reponse:
              "Identité du patient au regard de la prescription médicale",
          },
          {
            question:
              "Quelles sont les voies d’administration les plus courantes ?",
            propositions: [
              "Orale et parentérale",
              "Transdermique et sublinguale",
              "Auriculaire et pulmonaire",
              "Rectale et vaginale",
            ],
            reponse: "Orale et parentérale",
          },
          {
            question:
              "Quels effets peuvent résulter d’incompatibilités physicochimiques des médicaments ?",
            propositions: [
              "Amélioration de l’efficacité thérapeutique",
              "Formation de précipités ou toxicité accrue",
              "Allongement de la durée de conservation",
              "Réduction des coûts de production",
            ],
            reponse: "Formation de précipités ou toxicité accrue",
          },
          {
            question:
              "Quel est le pH standard du solvant NaCl 0,9% utilisé pour les injections ?",
            propositions: ["5-5,5", "6-6,5", "7-7,5", "8-8,5"],
            reponse: "7-7,5",
          },
          {
            question:
              "Quelles informations sont obligatoires sur une ordonnance médicale ?",
            propositions: [
              "Nom du pharmacien et type de médicament",
              "Nom du patient, DCI, posologie, durée du traitement",
              "Numéro RPPS et méthode d’administration",
              "Adresse du médecin et poids du patient",
            ],
            reponse: "Nom du patient, DCI, posologie, durée du traitement",
          },
          {
            question:
              "Quels professionnels peuvent prescrire des traitements nicotiniques de substitution ?",
            propositions: [
              "IDE",
              "Pharmaciens",
              "Pédicures-podologues",
              "Chirurgiens-dentistes",
            ],
            reponse: "IDE",
          },
          {
            question:
              "Quel est un exemple de médicament nécessitant une ordonnance sécurisée ?",
            propositions: [
              "Ibuprofène",
              "Méthadone",
              "Amoxicilline",
              "Paracétamol",
            ],
            reponse: "Méthadone",
          },
          {
            question:
              "Dans quel délai une ordonnance de stupéfiants doit-elle être exécutée ?",
            propositions: ["24 heures", "3 jours", "7 jours", "10 jours"],
            reponse: "3 jours",
          },
          {
            question:
              "Quelle est une conséquence possible de la co-administration de médicaments incompatibles ?",
            propositions: [
              "Diminution de l’efficacité thérapeutique",
              "Réduction des effets secondaires",
              "Amélioration de la solubilité",
              "Allongement de la demi-vie plasmatique",
            ],
            reponse: "Diminution de l’efficacité thérapeutique",
          },
          {
            question:
              "Quelle est la règle des 5B dans l’administration des médicaments ?",
            propositions: [
              "Bon patient, bon médicament, bonne dose, bonne voie, bon moment",
              "Bonne posologie, bonne compatibilité, bonne durée, bon patient, bon stockage",
              "Bon médecin, bon dosage, bon patient, bonne fréquence, bon suivi",
              "Bon pharmacien, bon stockage, bonne fabrication, bon suivi, bonne distribution",
            ],
            reponse:
              "Bon patient, bon médicament, bonne dose, bonne voie, bon moment",
          },
          {
            question:
              "Quel est le rôle principal d’un pharmacien hospitalier ?",
            propositions: [
              "Surveiller les réactions allergiques",
              "Analyser et valider les prescriptions médicales",
              "Administrer les médicaments aux patients",
              "Rédiger les ordonnances pour les médecins",
            ],
            reponse: "Analyser et valider les prescriptions médicales",
          },
          {
            question:
              "Quelles conditions s’appliquent à la prescription des médicaments à PIH (Prescription Initiale Hospitalière) ?",
            propositions: [
              "Prescription initiale et renouvellement à l’hôpital uniquement",
              "Prescription initiale à l’hôpital et renouvellement en ville possible",
              "Prescription et administration à l’hôpital uniquement",
              "Prescription initiale et renouvellement par un spécialiste uniquement",
            ],
            reponse:
              "Prescription initiale à l’hôpital et renouvellement en ville possible",
          },
          {
            question:
              "Quel document est requis pour un patient en ALD (Affection Longue Durée) ?",
            propositions: [
              "Ordonnance sécurisée",
              "Ordonnance classique",
              "Ordonnance bizone",
              "Ordonnance hospitalière",
            ],
            reponse: "Ordonnance bizone",
          },
          {
            question:
              "Quelle catégorie de médicaments nécessite une surveillance particulière (SP) ?",
            propositions: [
              "Vaccins",
              "Médicaments anticancéreux",
              "Médicaments non remboursables",
              "Médicaments génériques",
            ],
            reponse: "Médicaments anticancéreux",
          },
          {
            question:
              "Quel est le rôle de l’IDE après l’administration d’un médicament ?",
            propositions: [
              "Modifier la prescription si nécessaire",
              "Ranger le médicament dans les stocks",
              "Enregistrer la dose et l’heure d’administration",
              "Préparer les doses pour le lendemain",
            ],
            reponse: "Enregistrer la dose et l’heure d’administration",
          },
          {
            question:
              "Quel médicament nécessite un fractionnement automatique de la délivrance ?",
            propositions: [
              "Subutex",
              "Ibuprofène",
              "Amoxicilline",
              "Paracétamol",
            ],
            reponse: "Subutex",
          },
          {
            question:
              "Quel professionnel peut renouveler une prescription de contraceptifs oraux ?",
            propositions: [
              "IDE",
              "Médecin généraliste",
              "Pharmacien",
              "Sage-femme",
            ],
            reponse: "Pharmacien",
          },
          {
            question:
              "Quels sont les risques liés à une vitesse d’administration incorrecte par voie IV ?",
            propositions: [
              "Réduction de la durée d’action",
              "Augmentation de l’efficacité thérapeutique",
              "Effets indésirables et toxicité",
              "Stabilisation de la pharmacocinétique",
            ],
            reponse: "Effets indésirables et toxicité",
          },
          {
            question:
              "Quelle précaution est essentielle pour les médicaments injectables incompatibles ?",
            propositions: [
              "Respecter la température de conservation",
              "Utiliser des seringues séparées ou des lignes dédiées",
              "Diluer les médicaments dans la même solution",
              "Augmenter la vitesse d’administration",
            ],
            reponse: "Utiliser des seringues séparées ou des lignes dédiées",
          },
          {
            question: "Quel est le rôle principal d’une ordonnance sécurisée ?",
            propositions: [
              "Réduire le risque de falsification",
              "Faciliter la prise en charge en ville",
              "Standardiser les médicaments administrés",
              "Permettre un remboursement automatique",
            ],
            reponse: "Réduire le risque de falsification",
          },
          {
            question:
              "Quel est l’objectif principal de la traçabilité des médicaments ?",
            propositions: [
              "Améliorer l’efficacité thérapeutique",
              "Faciliter les audits pharmaceutiques",
              "Garantir la sécurité des patients",
              "Réduire les coûts des traitements",
            ],
            reponse: "Garantir la sécurité des patients",
          },
        ],
        DispositifsMedicaux: [
          {
            question: "Quelle est la définition d'un dispositif médical (DM) ?",
            propositions: [
              "Un médicament utilisé à faible dose",
              "Un appareil ou instrument destiné à un usage médical, sans action pharmacologique principale",
              "Un outil de diagnostic exclusivement biologique",
              "Une substance active administrée par voie intraveineuse",
            ],
            reponse:
              "Un appareil ou instrument destiné à un usage médical, sans action pharmacologique principale",
          },
          {
            question: "Quel est un exemple de dispositif médical actif ?",
            propositions: [
              "Un pansement",
              "Une sonde de défibrillation cardiaque",
              "Une prothèse de hanche",
              "Un cathéter",
            ],
            reponse: "Une sonde de défibrillation cardiaque",
          },
          {
            question:
              "Quelles sont les 4 classes de classification des DM selon leur niveau de risque ?",
            propositions: [
              "Classes A, B, C, D",
              "Classes I, IIa, IIb, III",
              "Classes 1, 2, 3, 4",
              "Classes Basique, Moyen, Avancé, Critique",
            ],
            reponse: "Classes I, IIa, IIb, III",
          },
          {
            question: "Quel est le rôle principal du marquage CE sur un DM ?",
            propositions: [
              "Indiquer le fabricant du produit",
              "Garantir la conformité aux normes européennes",
              "Assurer la traçabilité des dispositifs",
              "Autoriser le remboursement du produit",
            ],
            reponse: "Garantir la conformité aux normes européennes",
          },
          {
            question: "Quelle est la finalité de la matériovigilance ?",
            propositions: [
              "Promouvoir les ventes des DM",
              "Surveiller les incidents ou risques d'incidents liés aux DM",
              "Réduire les coûts de fabrication des DM",
              "Simplifier les processus de certification",
            ],
            reponse:
              "Surveiller les incidents ou risques d'incidents liés aux DM",
          },
          {
            question:
              "Qu'est-ce que le système IUD introduit par le règlement européen 2017/745 ?",
            propositions: [
              "Un code unique pour identifier les dispositifs médicaux",
              "Une norme de fabrication des DM implantables",
              "Un organisme de certification pour les DM",
              "Un protocole de remboursement des DM",
            ],
            reponse: "Un code unique pour identifier les dispositifs médicaux",
          },
          {
            question:
              "Quels dispositifs sont soumis à une traçabilité sanitaire obligatoire ?",
            propositions: [
              "Tous les dispositifs non stériles",
              "Les dispositifs médicaux implantables (DMI)",
              "Les médicaments associés aux DM",
              "Les DM de classe I uniquement",
            ],
            reponse: "Les dispositifs médicaux implantables (DMI)",
          },
          {
            question:
              "Quels sont les acteurs principaux de la matériovigilance ?",
            propositions: [
              "Les patients uniquement",
              "Les fabricants, distributeurs et professionnels de santé",
              "Les laboratoires pharmaceutiques",
              "Les autorités judiciaires",
            ],
            reponse: "Les fabricants, distributeurs et professionnels de santé",
          },
          {
            question:
              "Quelle unité est utilisée pour mesurer le diamètre des cathéters ?",
            propositions: ["Inch", "Gauge", "Centimètre", "Millimètre"],
            reponse: "Gauge",
          },
          {
            question: "Quel organisme gère la plateforme européenne EUDAMED ?",
            propositions: ["HAS", "ANSM", "Commission européenne", "OMS"],
            reponse: "Commission européenne",
          },
          {
            question: "Qu'est-ce que le marquage CE garantit ?",
            propositions: [
              "La conformité aux exigences essentielles de sécurité et de performance",
              "Un remboursement automatique par les assurances maladie",
              "Une certification unique valable à vie",
              "La réduction des coûts de production",
            ],
            reponse:
              "La conformité aux exigences essentielles de sécurité et de performance",
          },
          {
            question:
              "Quels DM sont concernés par les essais cliniques obligatoires ?",
            propositions: [
              "Tous les DM de classe I",
              "Les DM de classe III et les DMI",
              "Les DM stériles uniquement",
              "Tous les DM vendus en Europe",
            ],
            reponse: "Les DM de classe III et les DMI",
          },
          {
            question:
              "Quel pictogramme doit figurer sur les DM réutilisables ?",
            propositions: [
              "Code à barres ou datamatrix",
              "Symbole de tri sélectif",
              "Logo de l'OMS",
              "Icône de recyclage",
            ],
            reponse: "Code à barres ou datamatrix",
          },
          {
            question:
              "Quel est l'objectif principal des règles de traçabilité des DM ?",
            propositions: [
              "Garantir un usage sécurisé et prévenir les incidents",
              "Réduire les coûts de production et de distribution",
              "Assurer le stockage dans les pharmacies",
              "Faciliter la publicité et la commercialisation",
            ],
            reponse: "Garantir un usage sécurisé et prévenir les incidents",
          },
          {
            question:
              "Quelle commission gère la politique des DM stériles à l'hôpital ?",
            propositions: ["CME", "COMEDIMS", "HAS", "CEPS"],
            reponse: "COMEDIMS",
          },
          {
            question:
              "Quels produits sont considérés comme des DM numériques ?",
            propositions: [
              "Logiciels d'aide à la prescription",
              "Systèmes de perfusion",
              "Prothèses orthopédiques",
              "Compresses stériles",
            ],
            reponse: "Logiciels d'aide à la prescription",
          },
          {
            question:
              "Quels acteurs participent à la prise en charge des DM à domicile ?",
            propositions: [
              "Prestataires de service et distributeurs de matériel médical",
              "Infirmiers libéraux uniquement",
              "Laboratoires pharmaceutiques",
              "Autorités judiciaires",
            ],
            reponse:
              "Prestataires de service et distributeurs de matériel médical",
          },
          {
            question:
              "Quel type de DM nécessite un dépôt temporaire ou permanent à l'hôpital ?",
            propositions: [
              "DM intégrés aux GHS",
              "DM stériles",
              "DMI",
              "DM numériques",
            ],
            reponse: "DMI",
          },
          {
            question: "Quel rôle joue la base de données EUDAMED ?",
            propositions: [
              "Assurer le financement des DM",
              "Traiter les signalements d'incidents et gérer les données de traçabilité",
              "Évaluer les prix des DM sur le marché",
              "Créer une nomenclature unique pour les DM",
            ],
            reponse:
              "Traiter les signalements d'incidents et gérer les données de traçabilité",
          },
          {
            question:
              "Quelle règle est appliquée avant la mise sur le marché d'un DM en Europe ?",
            propositions: [
              "Obtention du marquage CE",
              "Certification par un organisme judiciaire",
              "Validation par l'OMS",
              "Approbation par les patients",
            ],
            reponse: "Obtention du marquage CE",
          },
          {
            question:
              "Quelle est la durée maximale de validité d'un marquage CE ?",
            propositions: ["3 ans", "5 ans", "7 ans", "10 ans"],
            reponse: "5 ans",
          },
          {
            question:
              "Quelle procédure est suivie en cas d'incident grave lié à un DM ?",
            propositions: [
              "Retrait de lot et notification à l'ANSM",
              "Augmentation de la production pour éviter les ruptures",
              "Changement de fabricant immédiat",
              "Suspension des activités commerciales dans toute l'Europe",
            ],
            reponse: "Retrait de lot et notification à l'ANSM",
          },
          {
            question:
              "Quel organisme supervise la matériovigilance au niveau européen ?",
            propositions: ["OMS", "HAS", "ANSM", "Commission européenne"],
            reponse: "Commission européenne",
          },
          {
            question: "Quelle est une caractéristique des DM stériles ?",
            propositions: [
              "Disponibles uniquement en vente libre",
              "Fabriqués selon des normes pharmaceutiques strictes",
              "Non soumis à des essais cliniques",
              "Fabriqués en grande majorité en dehors de l'Europe",
            ],
            reponse: "Fabriqués selon des normes pharmaceutiques strictes",
          },
        ],
        EssaisTherapeutiques: [
          {
            question:
              "Quel est le prérequis éthique pour réaliser un essai thérapeutique ?",
            propositions: [
              "Obtenir un financement suffisant",
              "Être en situation d'incertitude sur une thérapeutique donnée",
              "Disposer de participants sains uniquement",
              "Avoir l'accord de l'OMS",
            ],
            reponse:
              "Être en situation d'incertitude sur une thérapeutique donnée",
          },
          {
            question:
              "Quels sont les objectifs de la phase III d'un essai clinique ?",
            propositions: [
              "Déterminer la dose optimale",
              "Étudier l'efficacité et la tolérance sur un grand échantillon",
              "Étudier les effets à long terme en vie réelle",
              "Fixer le prix de commercialisation",
            ],
            reponse:
              "Étudier l'efficacité et la tolérance sur un grand échantillon",
          },
          {
            question:
              "Quel principe méthodologique est essentiel pour éliminer la subjectivité dans les essais cliniques ?",
            propositions: [
              "La randomisation",
              "L'utilisation de placebos",
              "Le double-aveugle",
              "L'étude multicentrique",
            ],
            reponse: "Le double-aveugle",
          },
          {
            question: "Quelle est la finalité d'un essai comparatif contrôlé ?",
            propositions: [
              "Évaluer l'effet placebo",
              "Comparer un traitement avec un placebo ou une référence",
              "Recruter des patients pour un essai futur",
              "Analyser les coûts liés à un traitement",
            ],
            reponse: "Comparer un traitement avec un placebo ou une référence",
          },
          {
            question: "Quel rôle joue le promoteur dans un essai clinique ?",
            propositions: [
              "Réaliser les prélèvements biologiques",
              "Financer et gérer la recherche",
              "Informer directement les patients participants",
              "Surveiller les événements indésirables",
            ],
            reponse: "Financer et gérer la recherche",
          },
          {
            question:
              "Dans quel type de recherche le scanner sans produit de contraste est-il inclus ?",
            propositions: [
              "Recherche interventionnelle avec faible intervention",
              "Recherche interventionnelle à risque minime",
              "Recherche non interventionnelle",
              "Recherche interventionnelle standard",
            ],
            reponse: "Recherche interventionnelle à risque minime",
          },
          {
            question: "Quelle est la définition de l'effet placebo ?",
            propositions: [
              "Une réponse biologique positive due à un traitement pharmacologique",
              "Un résultat psycho-physiologique positif sans efficacité intrinsèque attendue",
              "Un effet secondaire d'un médicament actif",
              "Une amélioration due à un biais méthodologique",
            ],
            reponse:
              "Un résultat psycho-physiologique positif sans efficacité intrinsèque attendue",
          },
          {
            question:
              "Que signifie l'acronyme AMM dans le cadre des essais cliniques ?",
            propositions: [
              "Autorisation de Mise sur le Marché",
              "Analyse Médicale Multicentrique",
              "Autorisation Médicale des Médicaments",
              "Arrêté Ministériel Médical",
            ],
            reponse: "Autorisation de Mise sur le Marché",
          },
          {
            question:
              "Quelle est la durée typique de la phase IV d'un essai clinique ?",
            propositions: [
              "Quelques mois",
              "1 à 2 ans",
              "À long terme",
              "Indéfinie",
            ],
            reponse: "À long terme",
          },
          {
            question:
              "Quel document contient les détails du protocole d'une recherche clinique ?",
            propositions: [
              "Le formulaire de consentement",
              "La note d'information",
              "Le cahier d'observation",
              "Le protocole de recherche",
            ],
            reponse: "Le protocole de recherche",
          },
          {
            question:
              "Quel principe garantit la comparabilité des groupes dans un essai clinique ?",
            propositions: [
              "Le recrutement multicentrique",
              "L'utilisation de placebos",
              "La randomisation",
              "Le suivi longitudinal",
            ],
            reponse: "La randomisation",
          },
          {
            question:
              "Qui est responsable d'informer les patients dans une recherche clinique ?",
            propositions: [
              "L'ANSM",
              "Le promoteur",
              "L'investigateur principal ou un membre délégué de son équipe",
              "Le technicien d'étude clinique",
            ],
            reponse:
              "L'investigateur principal ou un membre délégué de son équipe",
          },
          {
            question:
              "Quel type de consentement est requis pour participer à une recherche clinique ?",
            propositions: [
              "Consentement tacite",
              "Consentement oral",
              "Consentement libre, informé, écrit",
              "Consentement obligatoire",
            ],
            reponse: "Consentement libre, informé, écrit",
          },
          {
            question: "Quel rôle joue l'effet placebo dans un essai clinique ?",
            propositions: [
              "Il réduit les coûts des essais",
              "Il améliore la communication entre médecin et patient",
              "Il sert de référence pour mesurer l'effet du traitement étudié",
              "Il augmente la subjectivité des résultats",
            ],
            reponse:
              "Il sert de référence pour mesurer l'effet du traitement étudié",
          },
          {
            question: "Quel est un exemple d'étude non interventionnelle ?",
            propositions: [
              "Cohorte de suivi de la tolérance d'un traitement prescrit",
              "Comparaison de deux médicaments",
              "Essai sur une nouvelle technique chirurgicale",
              "Recherche sur un traitement de cancer avancé",
            ],
            reponse:
              "Cohorte de suivi de la tolérance d'un traitement prescrit",
          },
          {
            question:
              "Quelle phase est appelée étude pivot dans le développement d'un médicament ?",
            propositions: ["Phase I", "Phase II", "Phase III", "Phase IV"],
            reponse: "Phase III",
          },
          {
            question:
              "Quel est un des objectifs de la phase I dans un essai clinique ?",
            propositions: [
              "Tester l'efficacité",
              "Évaluer la dose maximale tolérée",
              "Étudier les effets à long terme",
              "Comparer deux traitements",
            ],
            reponse: "Évaluer la dose maximale tolérée",
          },
          {
            question:
              "Quel est le rôle d'un investigateur dans un essai multicentrique ?",
            propositions: [
              "Financer l'essai",
              "Superviser la recherche dans un centre",
              "Fixer le protocole de recherche",
              "Analyser les données finales",
            ],
            reponse: "Superviser la recherche dans un centre",
          },
          {
            question:
              "Quel type de recherche est considéré comme interventionnelle avec faible intervention ?",
            propositions: [
              "Une étude comparative entre deux anticorps monoclonaux",
              "Un essai sur une nouvelle technique chirurgicale",
              "Une étude sur la tolérance des biothérapies",
              "Un scanner sans produit de contraste ajouté",
            ],
            reponse: "Une étude comparative entre deux anticorps monoclonaux",
          },
          {
            question:
              "Quel est l'objectif principal des Bonnes Pratiques Cliniques (BPC) ?",
            propositions: [
              "Réduire les coûts de recherche",
              "Garantir la sécurité et les droits des participants",
              "Accélérer l'approbation des médicaments",
              "Améliorer la collaboration entre promoteurs",
            ],
            reponse: "Garantir la sécurité et les droits des participants",
          },
        ],

        ExerciceInfirmier: [
          {
            question:
              "Depuis quelle année les infirmiers peuvent-ils prescrire certains dispositifs médicaux ?",
            propositions: ["2010", "2012", "2015", "2019"],
            reponse: "2012",
          },
          {
            question:
              "Quels dispositifs médicaux peuvent être prescrits par un infirmier ?",
            propositions: [
              "Prothèses auditives",
              "Matelas anti-escarres, sondes naso-gastriques, pansements spécifiques",
              "Médicaments anti-inflammatoires",
              "Immunoglobulines injectables",
            ],
            reponse:
              "Matelas anti-escarres, sondes naso-gastriques, pansements spécifiques",
          },
          {
            question:
              "Quel type d'ordonnance doit être utilisée pour prescrire des stupéfiants ?",
            propositions: [
              "Ordonnance normale",
              "Ordonnance sécurisée",
              "Ordonnance bizone",
              "Ordonnance hospitalière",
            ],
            reponse: "Ordonnance sécurisée",
          },
          {
            question:
              "Quelle est la durée maximale de renouvellement des contraceptifs oraux par un infirmier ?",
            propositions: ["3 mois", "6 mois", "9 mois", "12 mois"],
            reponse: "6 mois",
          },
          {
            question:
              "Quels vaccins les infirmiers peuvent-ils prescrire et administrer ?",
            propositions: [
              "Tous les vaccins, y compris les vaccins vivants atténués",
              "Vaccins du calendrier vaccinal pour les personnes âgées de 11 ans et plus, sauf certains vaccins vivants atténués",
              "Vaccins pour les enfants de moins de 11 ans uniquement",
              "Vaccins expérimentaux en phase d'essais cliniques",
            ],
            reponse:
              "Vaccins du calendrier vaccinal pour les personnes âgées de 11 ans et plus, sauf certains vaccins vivants atténués",
          },
          {
            question:
              "Quelle loi a élargi les droits de prescription des infirmiers pour inclure les substituts nicotiniques ?",
            propositions: [
              "Loi HPST 2009",
              "Loi n° 2016-41",
              "Loi RIST 2023",
              "Loi Santé 2015",
            ],
            reponse: "Loi n° 2016-41",
          },
          {
            question:
              "Quel est le rôle principal d'un protocole de coopération ?",
            propositions: [
              "Permettre aux infirmiers de prescrire tous les médicaments",
              "Faciliter la délégation de tâches médicales aux infirmiers",
              "Augmenter le nombre de patients pris en charge par un médecin",
              "Automatiser la gestion des prescriptions infirmières",
            ],
            reponse:
              "Faciliter la délégation de tâches médicales aux infirmiers",
          },
          {
            question:
              "Quelles sont les mentions obligatoires sur une ordonnance rédigée par un infirmier en pratique avancée ?",
            propositions: [
              "Nom de l'infirmier, posologie, numéro RPPS, poids du patient si nécessaire",
              "Nom de l'infirmier, qualification, mode de remboursement",
              "Signature du médecin superviseur, numéro RPPS, âge du patient",
              "Dénomination commerciale du médicament uniquement",
            ],
            reponse:
              "Nom de l'infirmier, posologie, numéro RPPS, poids du patient si nécessaire",
          },
          {
            question:
              "Quelle est une caractéristique des substituts nicotiniques prescrits par les infirmiers ?",
            propositions: [
              "Ils ne sont jamais remboursés",
              "Ils incluent les patchs, gommes, pastilles et sprays buccaux",
              "Ils nécessitent une ordonnance hospitalière",
              "Ils sont réservés aux patients âgés de plus de 18 ans",
            ],
            reponse:
              "Ils incluent les patchs, gommes, pastilles et sprays buccaux",
          },
          {
            question:
              "Quel est le diplôme nécessaire pour exercer en tant qu'infirmier en pratique avancée ?",
            propositions: [
              "Un doctorat en soins infirmiers",
              "Un master en pratique avancée délivré par une université accréditée",
              "Une licence spécialisée en pharmacologie",
              "Une certification de l'Ordre des infirmiers",
            ],
            reponse:
              "Un master en pratique avancée délivré par une université accréditée",
          },
          {
            question:
              "Quels sont les champs de spécialisation possibles pour les infirmiers en pratique avancée ?",
            propositions: [
              "Médecine d'urgence, oncologie, psychiatrie, pathologies chroniques",
              "Pédiatrie, dermatologie, gastro-entérologie",
              "Pharmacologie, immunologie, biotechnologie",
              "Chirurgie, soins intensifs, nutrition",
            ],
            reponse:
              "Médecine d'urgence, oncologie, psychiatrie, pathologies chroniques",
          },
          {
            question:
              "Quels principes fondamentaux guident la prescription infirmière ?",
            propositions: [
              "Bonnes pratiques cliniques, pertinence des soins, sécurité du patient",
              "Optimisation des coûts, simplification des traitements, rapidité d'exécution",
              "Confidentialité absolue, traitement unique, réduction des consultations",
              "Prise en charge exclusive par les médecins, délais de validation prolongés",
            ],
            reponse:
              "Bonnes pratiques cliniques, pertinence des soins, sécurité du patient",
          },
          {
            question:
              "Quelle est une conséquence possible d'une élimination rénale insuffisante d'un médicament ?",
            propositions: [
              "Une efficacité thérapeutique accrue",
              "Une accumulation du médicament et des effets indésirables",
              "Une distribution plus rapide du médicament dans l'organisme",
              "Une diminution de la posologie requise",
            ],
            reponse:
              "Une accumulation du médicament et des effets indésirables",
          },
          {
            question:
              "Quel paramètre influence directement la distribution d'un médicament dans l'organisme ?",
            propositions: [
              "Le type de transporteurs intestinaux",
              "Le poids corporel du patient",
              "La voie d'administration uniquement",
              "Le pH gastrique du patient",
            ],
            reponse: "Le poids corporel du patient",
          },
        ],
      };

      const goodGifs = [
        "https://gifer.com/embed/J7Aw",
        "https://gifer.com/embed/Aq",
        "https://gifer.com/embed/H5z",
        "https://gifer.com/embed/8CU",
        "https://gifer.com/embed/kl",
      ];

      const badGifs = [
        "https://gifer.com/embed/EkII",
        "https://gifer.com/embed/Z2kv",
        "https://gifer.com/embed/Aw",
        "https://gifer.com/embed/fxU4",
        "https://gifer.com/embed/1G2t",
        "https://gifer.com/embed/4CYX",
        "https://gifer.com/embed/306x",
      ];

      const popupOverlay = document.getElementById("popup-overlay");
      const customizeButton = document.getElementById("customize-button");
      const switchList = document.getElementById("switch-list");
      const baseCategoriesContainer =
        document.getElementById("base-categories");
      const saveButton = document.querySelector(".btn-save");
      const cancelButton = document.querySelector(".btn-cancel");
      const questionContainer = document.getElementById("question-container");
      const categoryContainer = document.getElementById("category-container");
      const questionElement = document.getElementById("question");
      const propositionsContainer = document.getElementById("propositions");
      const resultElement = document.getElementById("result");
      const gifContainer = document.getElementById("gif-container");
      const gifElement = document.getElementById("gif");
      const nextButton = document.getElementById("next-button");
      const restartButton = document.getElementById("restart-button");
      const scoreDisplay = document.getElementById("score");
      const quizEndContainer = document.getElementById("quiz-end");
      const finalScore = document.getElementById("final-score");
      const correctAnswersElement = document.getElementById("correct-answers");
      const wrongAnswersElement = document.getElementById("wrong-answers");
      const restartQuizButton = document.getElementById("restart-quiz");
      const selectedCategories = new Set();
      let currentQuestionIndex = 0;
      let selectedQuestions = [];
      let correctAnswers = 0;
      let wrongAnswers = 0;

      if (categoryContainer.style.display !== "none") {
        document.getElementById("message-container").innerHTML =
          "<p>Bienvenu dans le quizz intéractif !</p>";
        document.getElementById("message-container");
      } else {
        document.getElementById("message-container").innerHTML =
          "<p>Cateogrie</p>";
      }

      function startQuiz(questionsArray) {
        categoryContainer.style.display = "none";
        questionContainer.style.display = "block";
        quizEndContainer.style.display = "none";
        restartButton.style.display = "inline-block";
        scoreDisplay.style.display = "inline-block";
        selectedQuestions = [...questionsArray];
        currentQuestionIndex = 0;
        correctAnswers = 0;
        wrongAnswers = 0;
        updateScore();
        displayQuestion();
      }

      function shuffleArray(array) {
        return array.sort(() => Math.random() - 0.5);
      }

      function displayQuestion() {
        if (currentQuestionIndex >= selectedQuestions.length) {
          endQuiz();
          return;
        }

        const question = selectedQuestions[currentQuestionIndex];
        questionElement.textContent = question.question;
        propositionsContainer.innerHTML = "";
        resultElement.textContent = "";
        gifContainer.style.display = "none";

        const shuffledPropositions = shuffleArray([...question.propositions]);

        shuffledPropositions.forEach((prop) => {
          const button = document.createElement("button");
          button.textContent = prop;
          button.classList.add("proposition");
          button.addEventListener("click", () =>
            handleAnswer(prop, question.reponse)
          );
          propositionsContainer.appendChild(button);
        });
      }

      function handleAnswer(selected, correct) {
        gifContainer.style.display = "block";
        if (selected === correct) {
          resultElement.textContent = "Bonne réponse !";
          resultElement.style.color = "lightgreen";
          gifElement.src =
            goodGifs[Math.floor(Math.random() * goodGifs.length)];
          correctAnswers++;
        } else {
          resultElement.textContent = `Mauvaise réponse. La bonne réponse était : ${correct}`;
          resultElement.style.color = "red";
          gifElement.src = badGifs[Math.floor(Math.random() * badGifs.length)];
          wrongAnswers++;
        }
        currentQuestionIndex++;
        nextButton.style.display = "block";
        updateScore();
      }

      nextButton.addEventListener("click", () => {
        nextButton.style.display = "none";
        displayQuestion();
      });

      restartButton.addEventListener("click", () => {
        location.reload();
      });

      restartQuizButton.addEventListener("click", () => {
        location.reload();
      });

      function updateScore() {
        scoreDisplay.innerHTML = `
          <div>${currentQuestionIndex}/${selectedQuestions.length}</div>
          <div>(✧◡✧) : ${correctAnswers}</div>
          <div>(ಠ▃ಠ) : ${wrongAnswers}</div>
        `;
      }

      function endQuiz() {
        questionContainer.style.display = "none";
        quizEndContainer.style.display = "flex";
        finalScore.textContent = `${correctAnswers}/${selectedQuestions.length}`;
        correctAnswersElement.textContent = correctAnswers;
        wrongAnswersElement.textContent = wrongAnswers;
      }

      function renderBaseCategories() {
        Object.keys(questions).forEach((category) => {
          const button = document.createElement("button");
          button.textContent = category.replace(/([A-Z])/g, " $1");
          button.classList.add("category");
          button.addEventListener("click", () => {
            startQuiz(questions[category]);
            document.getElementById("message-container").innerHTML =
              "<p>" + category.replace(/([A-Z])/g, " $1") + "</p>";
          });
          baseCategoriesContainer.appendChild(button);
        });
      }

      function renderSwitches() {
        switchList.innerHTML = "";
        Object.keys(questions).forEach((category) => {
          const button = document.createElement("button");
          button.textContent = category.replace(/([A-Z])/g, " $1");
          button.classList.add("switch");
          button.addEventListener("click", () => {
            if (selectedCategories.has(category)) {
              selectedCategories.delete(category);
              button.classList.remove("active");
            } else {
              selectedCategories.add(category);
              button.classList.add("active");
            }
          });
          switchList.appendChild(button);
        });
      }

      customizeButton.addEventListener("click", () => {
        popupOverlay.style.display = "flex";
        renderSwitches();
      });

      cancelButton.addEventListener("click", () => {
        popupOverlay.style.display = "none";
      });

      saveButton.addEventListener("click", () => {
        const totalQuestions =
          parseInt(document.getElementById("total-questions").value) || 5;
        const selected = Array.from(selectedCategories);
        let combinedQuestions = [];

        selected.forEach((category) => {
          combinedQuestions = combinedQuestions.concat(questions[category]);
        });

        const shuffled = combinedQuestions
          .sort(() => 0.5 - Math.random())
          .slice(0, totalQuestions);

        popupOverlay.style.display = "none";
        startQuiz(shuffled);
      });

      renderBaseCategories();
    </script>
  </body>
</html>
